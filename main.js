(()=>{"use strict";const e=document.querySelector(".js-weather-card"),t=document.querySelector(".js-degree-radios"),n=document.querySelector(".js-location"),r=document.querySelector(".js-weather-condition"),c=document.querySelector(".js-weather-img"),o=document.querySelector(".js-temperature"),s=document.createElement("div"),a=document.querySelector(".main"),i=document.querySelector(".js-loader");let d=null;s.classList.add("error"),s.classList.add("is-hidden"),document.querySelector(".main").appendChild(s);const u=()=>{e.classList.add("is-hidden"),t.classList.add("is-hidden")},l=()=>{const e=document.querySelector(".js-degree-radios :checked").id;o.textContent="celsius"===e?`${d.tempC}°C`:`${d.tempF}°F`},m=()=>{s.classList.add("is-hidden")},y=document.querySelector(".js-search-btn"),h=document.querySelector(".js-search-input"),p=async()=>{const o=h.value;if(""===o.trim())return;u(),m(),a.style.backgroundImage="",i.classList.remove("is-hidden");const y=await(async e=>{const t=await(async e=>{try{const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=c9bab1f090994008ae262726241705&q=${e}`);return await t.json()}catch(e){return console.error(e),{error:{message:"Unable to retrieve data."}}}})(e);return t.error?t:{locationName:t.location.name,conditionText:t.current.condition.text,conditionIcon:t.current.condition.icon,tempC:t.current.temp_c,tempF:t.current.temp_f}})(o);if(i.classList.add("is-hidden"),y.error)return u(),p=y.error,s.textContent=`${p.message}`,void s.classList.remove("is-hidden");var p,j;(async e=>{const t=await(async e=>{try{const t=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=JyGBtwCcEOqTVjjPAsWLFEbT9xDKSeni&s=${e}`);return(await t.json()).data.images.original.url}catch(e){return console.log(e),e}})(e);a.style.backgroundImage=`url(${t})`})(y.conditionText),m(),d=j=y,n.textContent=j.locationName,r.textContent=j.conditionText,c.src=`https:${j.conditionIcon}`,l(),e.classList.remove("is-hidden"),t.classList.remove("is-hidden")};y.addEventListener("click",p),h.addEventListener("keydown",(e=>{"Enter"===e.key&&p()})),document.querySelectorAll(".js-rad-inp").forEach((e=>{e.addEventListener("change",l)}))})();
//# sourceMappingURL=main.js.map